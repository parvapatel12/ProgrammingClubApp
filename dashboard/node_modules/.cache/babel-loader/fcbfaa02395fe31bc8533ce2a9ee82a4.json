{"ast":null,"code":"import _classCallCheck from \"/home/shagun/ProgrammingClubApp/dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shagun/ProgrammingClubApp/dashboard/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shagun/ProgrammingClubApp/dashboard/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shagun/ProgrammingClubApp/dashboard/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shagun/ProgrammingClubApp/dashboard/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shagun/ProgrammingClubApp/dashboard/src/components/AddBlog.js\";\nimport React, { Component } from \"react\";\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport firebase from \"firebase\";\n\nvar AddBlog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddBlog, _Component);\n\n  function AddBlog(props) {\n    var _this;\n\n    _classCallCheck(this, AddBlog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddBlog).call(this, props));\n\n    _this.onEditorStateChange = function (editorState) {\n      console.log(editorState);\n\n      _this.setState({\n        editorState: editorState\n      });\n    };\n\n    _this.state = {\n      userName: 'Sebastian',\n      title: '',\n      content: ' ',\n      upvote: [],\n      downvote: [],\n      taglist: [],\n      commentlist: [],\n      editorState: EditorState.createEmpty(),\n      timestamp: firebase.database.ServerValue.TIMESTAMP,\n      currtag: ' '\n    };\n    _this.blogRef = firebase.database().ref().child('blog_entry');\n    return _this;\n  }\n\n  _createClass(AddBlog, [{\n    key: \"handleChange_title\",\n    value: function handleChange_title(event) {\n      this.setState({\n        title: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChange_content\",\n    value: function handleChange_content(event) {\n      this.setState({\n        content: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChange_tag\",\n    value: function handleChange_tag(event) {\n      this.setState({\n        currtag: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSend\",\n    value: function handleSend() {\n      if (this.state.title) {\n        var newItem = {\n          userName: this.state.userName,\n          title: this.state.title,\n          //content: this.state.content,\n          content: draftToHtml(convertToRaw(this.state.editorState.getCurrentContent())),\n          upvote: this.state.upvote,\n          downvote: this.state.downvote,\n          taglist: this.state.taglist,\n          commentlist: this.state.commentlist,\n          timestamp: firebase.database.ServerValue.TIMESTAMP\n        };\n        this.blogRef.push(newItem);\n        this.setState({\n          title: ''\n        });\n        this.setState({\n          content: ''\n        });\n        this.setState({\n          currtag: ''\n        });\n        this.setState({\n          taglist: []\n        });\n      }\n    }\n  }, {\n    key: \"handleAddTag\",\n    value: function handleAddTag() {\n      this.state.taglist.push(this.state.currtag);\n      this.setState({\n        currtag: ''\n      });\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(event) {\n      if (event.key !== 'Enter') return;\n      this.handleSend();\n    }\n  }, {\n    key: \"handleKeyPressAddTag\",\n    value: function handleKeyPressAddTag(event) {\n      if (event.key !== 'Enter') return;\n      this.handleAddTag();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var editorState = this.state.editorState;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Type title\",\n        onEditorStateChange: true,\n        value: this.state.title,\n        onChange: this.handleChange_title.bind(this),\n        onKeyPress: this.handleKeyPress.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Content\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        type: \"textarea\",\n        placeholder: \"Type content\",\n        value: this.state.content,\n        onChange: this.handleChange_content.bind(this),\n        onKeyPress: this.handleKeyPress.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Tags\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"add tag one by one and press enter\",\n        value: this.state.currtag,\n        onChange: this.handleChange_tag.bind(this),\n        onKeyPress: this.handleKeyPressAddTag.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleAddTag.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Add tag\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.taglist.map(function (item, index) {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, item + \"  \");\n      })), React.createElement(Editor, {\n        editorState: editorState,\n        wrapperClassName: \"demo-wrapper\",\n        editorClassName: \"demo-editor\",\n        onEditorStateChange: this.onEditorStateChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"form__button\",\n        onClick: this.handleSend.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \" Submit\"));\n    }\n  }]);\n\n  return AddBlog;\n}(Component);\n\nexport default AddBlog;","map":{"version":3,"sources":["/home/shagun/ProgrammingClubApp/dashboard/src/components/AddBlog.js"],"names":["React","Component","Editor","EditorState","convertToRaw","draftToHtml","htmlToDraft","firebase","AddBlog","props","onEditorStateChange","editorState","console","log","setState","state","userName","title","content","upvote","downvote","taglist","commentlist","createEmpty","timestamp","database","ServerValue","TIMESTAMP","currtag","blogRef","ref","child","event","target","value","newItem","getCurrentContent","push","key","handleSend","handleAddTag","handleChange_title","bind","handleKeyPress","handleChange_content","handleChange_tag","handleKeyPressAddTag","map","item","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\n\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n\n\nimport firebase from \"firebase\";\n\n\nclass AddBlog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userName: 'Sebastian',\n      title: '',\n      content: ' ',\n      upvote: [],\n      downvote: [],\n      taglist: [],\n      commentlist: [],\n      editorState: EditorState.createEmpty(),\n      timestamp: firebase.database.ServerValue.TIMESTAMP,\n      currtag: ' ',\n    };\n    this.blogRef = firebase.database().ref().child('blog_entry');\n  }\n  onEditorStateChange = (editorState) => {\n    console.log(editorState);\n    this.setState({\n      editorState,\n    });\n  };\n  handleChange_title(event) {\n    this.setState({ title: event.target.value });\n  }\n  handleChange_content(event) {\n    this.setState({ content: event.target.value });\n  }\n  handleChange_tag(event) {\n    this.setState({ currtag: event.target.value });\n  }\n\n  handleSend() {\n    if (this.state.title ) {\n      var newItem = {\n        userName: this.state.userName,\n        title: this.state.title,\n        //content: this.state.content,\n        content: draftToHtml(convertToRaw(this.state.editorState.getCurrentContent())),\n        upvote: this.state.upvote,\n        downvote: this.state.downvote,\n        taglist: this.state.taglist,\n        commentlist: this.state.commentlist,\n        timestamp: firebase.database.ServerValue.TIMESTAMP\n      };\n\n      this.blogRef.push(newItem);\n      this.setState({ title: '' });\n      this.setState({ content: '' });\n      this.setState({ currtag: '' });\n      this.setState({ taglist: [] });\n    }\n  }\n\n  handleAddTag() {\n    this.state.taglist.push(this.state.currtag);\n    this.setState({ currtag: '' });\n  }\n\n  handleKeyPress(event) {\n    if (event.key !== 'Enter') return;\n    this.handleSend();\n  }\n\n  handleKeyPressAddTag(event) {\n    if (event.key !== 'Enter') return;\n    this.handleAddTag();\n  }\n\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <label>Title</label>\n        <br></br>\n        <input type=\"text\"\n          placeholder=\"Type title\"onEditorStateChange\n          value={this.state.title}\n          onChange={this.handleChange_title.bind(this)}\n          onKeyPress={this.handleKeyPress.bind(this)}\n        ></input>\n        <br></br>\n\n        <label>Content</label>\n        <br></br>\n        <textarea type=\"textarea\"\n          placeholder=\"Type content\"\n          value={this.state.content}\n          onChange={this.handleChange_content.bind(this)}\n          onKeyPress={this.handleKeyPress.bind(this)}\n        ></textarea>\n        <br></br>\n\n        <label>Tags</label>\n        <br></br>\n\n        <input type=\"text\"\n          placeholder=\"add tag one by one and press enter\"\n          value={this.state.currtag}\n          onChange={this.handleChange_tag.bind(this)}\n          onKeyPress={this.handleKeyPressAddTag.bind(this)}\n        ></input>\n\n          <button onClick={this.handleAddTag.bind(this)} >Add tag</button>\n\n          <div>\n            {this.state.taglist.map((item, index) => (\n              < span>{item + \"  \"}</span>\n            ))\n            }\n          </div>\n          <Editor\n            editorState={editorState}\n            wrapperClassName=\"demo-wrapper\"\n            editorClassName=\"demo-editor\"\n            onEditorStateChange={this.onEditorStateChange}\n          />\n          {/* <div>{this.state.taglist}</div> */}\n          <br></br>\n          <button\n            className=\"form__button\"\n            onClick={this.handleSend.bind(this)}\n          > Submit</button>\n          </div>\n    );\n  }\n}\n\nexport default AddBlog;\n"]},"metadata":{},"sourceType":"module"}